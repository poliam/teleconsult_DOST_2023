{% extends 'base.html' %}

{% block title %} Patient Detail {% endblock title %}

{% block style %}
<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<style type="text/css">
	.dashboard_welcome_greeting{
		color: #6417A1;
	}
	.patient_detail_name{
		background-color: #6417A180;
		color: white;
	}
	.patient_detail_name i {
		float: right;
		cursor: pointer;
	}
	.patient_family_details{
		float: left;
		color: white;
	}
	.patient_family_details button{
		float: right;
	}

	.relative_table th {
		color: #6417A1;
	}

	.patient_allergies{
		color: white;
	}
	.patient_allergies button {
		float: right;
	}

	.consultation_detail{
		color: white;
	}

	.consultation_detail button{
		float: right;
	}

	.patient_allergies_table th {
		color: #6417A1;
	}
	.patient_detail_name a {
		text-decoration: none;
		color: white;
	}
	.patient_detiel_label{
		color: #6417A1;
		font-weight: 700;
	}

	.patient_GPS{
		color: white;
	}
	.patient_GPS button {
		float: right;
	}

	.patient_GPS_table th {
		color: #6417A1;
	}
	
</style>
{% endblock style %}

{% block content %}
<div class="container-fluid">
	<div class="row">
		<div class="col-sm-12">
			<h2 class="dashboard_welcome_greeting">Patient Detailed</h2>
		</div>
	</div>
	<br/>
	<div class="row">
		<div class="col-sm-4">
			<div class="card">
  				<h5 class="card-header patient_detail_name">{{ patientDetailed.last_name }}, {{ patientDetailed.first_name }} {{ patientDetailed.middle_name }} <a href="{% url 'PatientEdit' patientDetailed.pk %}"><i class="fa-solid fa-pen-to-square"></i></a></h5>
  				<div class="card-body" style="text-align:center;">
					{% if patientDetailed.profile_picture|length > 0 %}
            			<img src="{{ patientDetailed.profile_picture.url|default_if_none:'#' }}" class="object-scale-down w-40 h-40 xl:w-40 xl:h-44 xl_4k:w-85 xl_4k:h-85 rounded-full" >
                    {% endif %}
  				</div>
  				<div class="card-body">
    				<div class="row">
    					<div class="col-sm-6">
    						 <div class="mb-6 row">
    							<label for="Patient_age" class="col-sm-4 col-form-label patient_detiel_label">Age</label>
    							<div class="col-sm-8">
      								<input type="text" readonly class="form-control-plaintext" id="Patient_age" value="{{ age }}">
    							</div>
  							</div>
  							<div class="mb-6 row">
    							<label for="Patient_gender" class="col-sm-4 col-form-label patient_detiel_label">Gender</label>
    							<div class="col-sm-8">
      								<input type="text" readonly class="form-control-plaintext" id="Patient_gender" value="{{ patientDetailed.gender }}">
    							</div>
  							</div>
  							<div class="mb-6 row">
    							<label for="Patient_gender" class="col-sm-4 col-form-label patient_detiel_label">Marital Status</label>
    							<div class="col-sm-8">
      								<input type="text" readonly class="form-control-plaintext" id="Patient_gender" value="{{ patientDetailed.marital_status }}">
    							</div>
  							</div>
    					</div>
    					<div class="col-sm-6">
    						<div class="mb-6 row">
    							<label for="Patient_birth_place" class="col-sm-4 col-form-label patient_detiel_label">Birth Place</label>
    							<div class="col-sm-8">
      								<input type="text" readonly class="form-control-plaintext" id="Patient_birth_place" value="{{ patientDetailed.birth_place }}">
    							</div>
  							</div>
  							<div class="mb-6 row">
    							<label for="Patient_date_of_birth" class="col-sm-4 col-form-label patient_detiel_label">Date of Birth</label>
    							<div class="col-sm-8">
      								<input type="text" readonly class="form-control-plaintext" id="Patient_date_of_birth" value="{{ patientDetailed.BOD }}">
    							</div>
  							</div>
    					</div>
    				</div>
  				</div>
			</div>
		</div>
		<div class="col-sm-8">
			<div class="row">
				<div class="col-sm-8">
					<div class="card">
  						<h5 class="card-header patient_family_details card_background_color">Family Relative <a href="{% url 'PatientCreateRelative' patientDetailed.pk %}" style="text-decoration:none;"><button type="button" class="btn btn-light" style="font-size: 0.8rem;">Add Relative</button></a></h5>
		  				<div class="card-body">
		    				<div class="row">
		    					<div class="col-sm-12">
		    						<table class="table relative_table">
		    							<thead>
		    								<tr>
		      									<th scope="col">#</th>
		      									<th scope="col">Name</th>
		      									<th scope="col">Relation</th>
		      									<th scope="col">Sex</th>
		      									<th scope="col">Age</th>
		      									<th scope="col">Occupation</th>
		      									<th scope="col"></th>
		    								</tr>
		  								</thead>
		  								<tbody>
		  									{% for relative in list_of_relatives %}
		  										<tr>
		  											<td>{{ forloop.counter }}</td>
		  											<td>{{ relative.last_name }}, {{ relative.first_name }} {{ relative.middle_name }}</td>
		  											<td>{{ relative.relationship }}</td>
		  											<td>{{ relative.gender }}</td>
		  											<td>{{ relative.age }}</td>
		  											<td>{{ relative.occupation }}</td>
		  											<td>
		  												<a href="{% url 'PatientEditRelative' relative.pk %}">
		  													<i class="fa-solid fa-pen-to-square"></i>
		  												</a>
		  												<a href="">
		  													<i class="fa-solid fa-trash-can"></i>
		  												</a>
		  											</td>
		  										</tr>
		  									{% endfor %}
		  								</tbody>
		    						</table>	
		    					</div>
		    				</div>
		  				</div>
					</div>		
				</div>	
				<div class="col-sm-4">
					<div class="card">
	  					<h5 class="card-header patient_allergies card_background_color">Medical Allergies <a href="{% url 'PatientCreateAllergy' patientDetailed.pk %}" style="text-decoration:none;"><button type="button" class="btn btn-light" style="font-size: 0.8rem;">Add Allergies</button></a></h5>
		  				<div class="card-body">
		    				<div class="row">
		    					<div class="col-sm-12">
		    						<table class="table patient_allergies_table">
		    							<thead>
		    								<tr>
		      									<th scope="col" width="10%">#</th>
		      									<th scope="col" width="80%">Medicine</th>
		      									<th width="10%"></th>
		    								</tr>
		  								</thead>
		  								<tbody>
		  									{% for allegry in list_of_allergies %}
			  									<tr>
			  										<td>{{ forloop.counter }}</td>
			  										<td>{{ allegry.medicine_name.name }}</td>
			  										<td>
		  												<a href="">
		  													<i class="fa-solid fa-trash-can"></i>
		  												</a>
		  											</td>
			  									</tr>
		  									{% endfor %}
		  								</tbody>
		    						</table>	
		    					</div>
		    				</div>
		  				</div>
					</div>	
				</div>
			</div>
			<br/>
			<div class="card">
  				<h5 class="card-header patient_GPS card_background_color">Global Psychotrauma Screen <a href="{% url 'PatientCreateGPS' patientDetailed.pk  %}" style="text-decoration:none;"><button type="button" class="btn btn-light" style="font-size: 0.8rem;">Add GPS</button></a></h5>
  				<div class="card-body">
    				<div class="row">
    					<div class="col-sm-12">
    						<table class="table patient_GPS_table">
    							<thead>
    								<tr>
      									<th scope="col" width="10%">#</th>
      									<th scope="col" width="80%">Consultation Date</th>
      									<th width="10%"></th>
    								</tr>
  								</thead>
  								<tbody>
  									{% for GPS in list_of_GPS %}
	  									<tr>
	  										<td>{{ forloop.counter }}</td>
	  										<td>
	  											<a href="{% url 'PatientUpdateGPS' GPS.pk %}" style="text-decoration:none;font-weight: 700;">{{ GPS.consultation_date|date:"F d, Y (D)" }}</a>
	  										</td>
	  										<td>
												<a href="">
													<i class="fa-solid fa-trash-can"></i>
												</a>
											</td>
	  									</tr>
  									{% empty %}
  										<tr>
  											<td colspan="3">
  												No Global Psychotrauma Screen Created. . .
  											</td>
  										</tr>

  									{% endfor %}
  								</tbody>
    						</table>	
    					</div>
    				</div>
  				</div>
			</div>
			<br/>
			<div class="card">
  				<h5 class="card-header patient_GPS card_background_color">HAMILTON DEPRESSION <a href="{% url 'PatientCreateHamD' patientDetailed.pk  %}" style="text-decoration:none;"><button type="button" class="btn btn-light" style="font-size: 0.8rem;">Add HAM-D</button></a></h5>
  				<div class="card-body">
    				<div class="row">
    					<div class="col-sm-12">
    						<table class="table patient_GPS_table">
    							<thead>
    								<tr>
      									<th scope="col" width="10%">#</th>
      									<th scope="col" width="40%">Consultation Date</th>
      									<th scope="col" width="20%">Score(1-17)</th>
      									<th scope="col" width="20%">Total Score</th>
      									<th width="10%"></th>
    								</tr>
  								</thead>
  								<tbody>
  									{% for hamd in list_of_hamd %}
  										<tr>
	  										<td>{{ forloop.counter }}</td>
	  										<td>
	  											<a href="{% url 'PatientUpdateHamD' hamd.pk %}" style="text-decoration:none;font-weight: 700;">{{ hamd.consultation_date|date:"F d, Y (D)" }}</a>
	  										</td>
	  										<td><b>{{ hamd.score }}</b></td>
	  										<td><b>{{ hamd.total_score }}</b></td>
	  										<td>
												<a href="">
													<i class="fa-solid fa-trash-can"></i>
												</a>
											</td>
	  									</tr>
  									{% empty %}
  										<tr>
  											<td colspan="5">
  												HAMILTON DEPRESSION Screen Created. . .
  											</td>
  										</tr>
  									{% endfor %}
  									
  								</tbody>
    						</table>	
    					</div>
    				</div>
  				</div>
			</div>
		</div>
	</div>
	<br/>
	<div class="row">
		<div class="col-sm-4">
			<div class="card">
  				<h5 class="card-header patient_allergies card_background_color">Consultations <a href="{% url 'CreateConsultation' patientDetailed.pk %}" style="text-decoration:none;"><button type="button" class="btn btn-light" style="font-size: 0.8rem;">Add Consultation</button></a></h5>
  				<div class="card-body">
    				<div class="row">
    					<div class="col-sm-12">
    						<table class="table patient_allergies_table">
    							<thead>
    								<tr>
      									<th scope="col" width="10%">#</th>
      									<th scope="col">Consultation Date</th>
      									<th scope="col">Consultation Type</th>
    								</tr>
  								</thead>
  								<tbody>
  									
  								</tbody>
    						</table>	
    					</div>
    				</div>
  				</div>
			</div>
		</div>
		<div class="col-sm-8">
			<div class="card">
  				<h5 class="card-header consultation_detail card_background_color">Consultations Details<a href="#" style="text-decoration:none;"><button type="button" class="btn btn-light" style="font-size: 0.8rem;">Edit Consultation</button></a></h5>
  				<div class="card-body">
    				<div class="row">
    					<div class="col-sm-12">
    						
    					</div>
    				</div>
  				</div>
			</div>
		</div>
	</div>
</div>
{% endblock content %}


{% block script %}
<script type="text/javascript" src="//cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script type="text/javascript">

</script>
{% endblock script %}
